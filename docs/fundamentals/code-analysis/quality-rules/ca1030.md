---
title: 'CA1030: usar eventos quando apropriado (análise de código)'
description: 'Saiba mais sobre a regra de análise de código CA1030: usar eventos quando apropriado'
ms.date: 03/11/2019
ms.topic: reference
f1_keywords:
- UseEventsWhereAppropriate
- CA1030
helpviewer_keywords:
- CA1030
- UseEventsWhereAppropriate
author: gewarren
ms.author: gewarren
ms.openlocfilehash: 752993900c1c47eeba3461d795c54e4ad516ab37
ms.sourcegitcommit: 2e4adc490c1d2a705a0592b295d606b10b9f51f1
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/25/2020
ms.locfileid: "96584645"
---
# <a name="ca1030-use-events-where-appropriate"></a><span data-ttu-id="bb204-103">CA1030: Usar eventos quando apropriado</span><span class="sxs-lookup"><span data-stu-id="bb204-103">CA1030: Use events where appropriate</span></span>

| | <span data-ttu-id="bb204-104">Valor</span><span class="sxs-lookup"><span data-stu-id="bb204-104">Value</span></span> |
|-|-|
| <span data-ttu-id="bb204-105">**ID da regra**</span><span class="sxs-lookup"><span data-stu-id="bb204-105">**Rule ID**</span></span> |<span data-ttu-id="bb204-106">CA1030</span><span class="sxs-lookup"><span data-stu-id="bb204-106">CA1030</span></span>|
| <span data-ttu-id="bb204-107">**Categoria**</span><span class="sxs-lookup"><span data-stu-id="bb204-107">**Category**</span></span> |<span data-ttu-id="bb204-108">Microsoft. Design</span><span class="sxs-lookup"><span data-stu-id="bb204-108">Microsoft.Design</span></span>|
| <span data-ttu-id="bb204-109">**A correção está sendo interrompida ou não está sendo interrompida**</span><span class="sxs-lookup"><span data-stu-id="bb204-109">**Fix is breaking or non-breaking**</span></span> |<span data-ttu-id="bb204-110">Sem interrupção</span><span class="sxs-lookup"><span data-stu-id="bb204-110">Non-breaking</span></span>|

## <a name="cause"></a><span data-ttu-id="bb204-111">Causa</span><span class="sxs-lookup"><span data-stu-id="bb204-111">Cause</span></span>

<span data-ttu-id="bb204-112">Um nome de método começa com um dos seguintes:</span><span class="sxs-lookup"><span data-stu-id="bb204-112">A method name begins with one of the following:</span></span>

- <span data-ttu-id="bb204-113">Complemento</span><span class="sxs-lookup"><span data-stu-id="bb204-113">AddOn</span></span>
- <span data-ttu-id="bb204-114">RemoveOn</span><span class="sxs-lookup"><span data-stu-id="bb204-114">RemoveOn</span></span>
- <span data-ttu-id="bb204-115">Fire</span><span class="sxs-lookup"><span data-stu-id="bb204-115">Fire</span></span>
- <span data-ttu-id="bb204-116">Gera</span><span class="sxs-lookup"><span data-stu-id="bb204-116">Raise</span></span>

<span data-ttu-id="bb204-117">Por padrão, essa regra só examina os métodos visíveis externamente, mas isso é [configurável](#configurability).</span><span class="sxs-lookup"><span data-stu-id="bb204-117">By default, this rule only looks at externally visible methods, but this is [configurable](#configurability).</span></span>

## <a name="rule-description"></a><span data-ttu-id="bb204-118">Descrição da regra</span><span class="sxs-lookup"><span data-stu-id="bb204-118">Rule description</span></span>

<span data-ttu-id="bb204-119">Essa regra detecta métodos que têm nomes que seriam usados normalmente em eventos.</span><span class="sxs-lookup"><span data-stu-id="bb204-119">This rule detects methods that have names that ordinarily would be used for events.</span></span> <span data-ttu-id="bb204-120">Os eventos seguem o observador ou o padrão de design de Publish-Subscribe; Eles são usados quando uma alteração de estado em um objeto deve ser comunicada a outros objetos.</span><span class="sxs-lookup"><span data-stu-id="bb204-120">Events follow the Observer or Publish-Subscribe design pattern; they are used when a state change in one object must be communicated to other objects.</span></span> <span data-ttu-id="bb204-121">Se um método é chamado em resposta a uma alteração de estado claramente definida, o método deve ser invocado por um manipulador de eventos.</span><span class="sxs-lookup"><span data-stu-id="bb204-121">If a method gets called in response to a clearly defined state change, the method should be invoked by an event handler.</span></span> <span data-ttu-id="bb204-122">Os objetos que chamam o método devem acionar eventos, em vez de chamar o método diretamente.</span><span class="sxs-lookup"><span data-stu-id="bb204-122">Objects that call the method should raise events instead of calling the method directly.</span></span>

<span data-ttu-id="bb204-123">Alguns exemplos comuns de eventos são encontrados em aplicativos de interface do usuário em que uma ação do usuário, como clicar em um botão, faz com que um segmento de código seja executado.</span><span class="sxs-lookup"><span data-stu-id="bb204-123">Some common examples of events are found in user interface applications where a user action such as clicking a button causes a segment of code to execute.</span></span> <span data-ttu-id="bb204-124">O modelo de evento do .NET não está limitado às interfaces do usuário.</span><span class="sxs-lookup"><span data-stu-id="bb204-124">The .NET event model is not limited to user interfaces.</span></span> <span data-ttu-id="bb204-125">Ele deve ser usado em qualquer lugar em que você deve comunicar alterações de estado em um ou mais objetos.</span><span class="sxs-lookup"><span data-stu-id="bb204-125">It should be used anywhere you must communicate state changes to one or more objects.</span></span>

## <a name="how-to-fix-violations"></a><span data-ttu-id="bb204-126">Como corrigir violações</span><span class="sxs-lookup"><span data-stu-id="bb204-126">How to fix violations</span></span>

<span data-ttu-id="bb204-127">Se o método for chamado quando o estado de um objeto for alterado, considere alterar o design para usar o modelo de evento do .NET.</span><span class="sxs-lookup"><span data-stu-id="bb204-127">If the method is called when the state of an object changes, consider changing the design to use the .NET event model.</span></span>

## <a name="when-to-suppress-warnings"></a><span data-ttu-id="bb204-128">Quando suprimir avisos</span><span class="sxs-lookup"><span data-stu-id="bb204-128">When to suppress warnings</span></span>

<span data-ttu-id="bb204-129">Suprimir um aviso dessa regra se o método não funcionar com o modelo de evento do .NET.</span><span class="sxs-lookup"><span data-stu-id="bb204-129">Suppress a warning from this rule if the method does not work with the .NET event model.</span></span>

## <a name="configurability"></a><span data-ttu-id="bb204-130">Configurabilidade</span><span class="sxs-lookup"><span data-stu-id="bb204-130">Configurability</span></span>

<span data-ttu-id="bb204-131">Você pode configurar em quais partes de sua base de código executar essa regra, com base em sua acessibilidade.</span><span class="sxs-lookup"><span data-stu-id="bb204-131">You can configure which parts of your codebase to run this rule on, based on their accessibility.</span></span> <span data-ttu-id="bb204-132">Por exemplo, para especificar que a regra deve ser executada somente na superfície da API não pública, adicione o seguinte par chave-valor a um arquivo *. editorconfig* em seu projeto:</span><span class="sxs-lookup"><span data-stu-id="bb204-132">For example, to specify that the rule should run only against the non-public API surface, add the following key-value pair to an *.editorconfig* file in your project:</span></span>

```ini
dotnet_code_quality.ca1030.api_surface = private, internal
```

<span data-ttu-id="bb204-133">Você pode configurar essa opção apenas para essa regra, para todas as regras ou para todas as regras nesta categoria (Design).</span><span class="sxs-lookup"><span data-stu-id="bb204-133">You can configure this option for just this rule, for all rules, or for all rules in this category (Design).</span></span> <span data-ttu-id="bb204-134">Para obter mais informações, consulte [Opções de configuração de regra de qualidade de código](../code-quality-rule-options.md).</span><span class="sxs-lookup"><span data-stu-id="bb204-134">For more information, see [Code quality rule configuration options](../code-quality-rule-options.md).</span></span>
