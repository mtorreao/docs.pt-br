---
title: 'CA1507: usar nameof em vez de cadeia de caracteres (análise de código)'
description: 'Saiba mais sobre a regra de análise de código CA1507: usar nameof em vez de cadeia de caracteres'
ms.date: 06/13/2020
ms.topic: reference
f1_keywords:
- UseNameofInPlaceOfString
- CA1507
helpviewer_keywords:
- UseNameofInPlaceOfString
- CA1507
author: gewarren
ms.author: gewarren
ms.openlocfilehash: f52f6219f9eea6cb20a607daf73897fb494c048b
ms.sourcegitcommit: 636af37170ae75a11c4f7d1ecd770820e7dfe7bd
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/07/2020
ms.locfileid: "96585115"
---
# <a name="ca1507-use-nameof-in-place-of-string"></a><span data-ttu-id="b0904-103">CA1507: uso `nameof` no lugar da cadeia de caracteres</span><span class="sxs-lookup"><span data-stu-id="b0904-103">CA1507: Use `nameof` in place of string</span></span>

| | <span data-ttu-id="b0904-104">Valor</span><span class="sxs-lookup"><span data-stu-id="b0904-104">Value</span></span> |
|-|-|
| <span data-ttu-id="b0904-105">**ID da regra**</span><span class="sxs-lookup"><span data-stu-id="b0904-105">**Rule ID**</span></span> |<span data-ttu-id="b0904-106">CA1507</span><span class="sxs-lookup"><span data-stu-id="b0904-106">CA1507</span></span>|
| <span data-ttu-id="b0904-107">**Categoria**</span><span class="sxs-lookup"><span data-stu-id="b0904-107">**Category**</span></span> |<span data-ttu-id="b0904-108">Microsoft. Maintainabilidade</span><span class="sxs-lookup"><span data-stu-id="b0904-108">Microsoft.Maintainability</span></span>|
| <span data-ttu-id="b0904-109">**A correção está sendo interrompida ou não está sendo interrompida**</span><span class="sxs-lookup"><span data-stu-id="b0904-109">**Fix is breaking or non-breaking**</span></span> |<span data-ttu-id="b0904-110">Sem interrupção</span><span class="sxs-lookup"><span data-stu-id="b0904-110">Non-breaking</span></span>|

## <a name="cause"></a><span data-ttu-id="b0904-111">Causa</span><span class="sxs-lookup"><span data-stu-id="b0904-111">Cause</span></span>

<span data-ttu-id="b0904-112">Um `string` literal ou constante que corresponde ao nome de um parâmetro do método que o contém ou o nome de uma propriedade do tipo recipiente é usado como um argumento para um método.</span><span class="sxs-lookup"><span data-stu-id="b0904-112">A `string` literal or constant that matches the name of a parameter of the containing method or the name of a property of the containing type is used as an argument to a method.</span></span>

## <a name="rule-description"></a><span data-ttu-id="b0904-113">Descrição da regra</span><span class="sxs-lookup"><span data-stu-id="b0904-113">Rule description</span></span>

<span data-ttu-id="b0904-114">A regra CA1507 sinaliza o uso de um `string` literal como um argumento para um método ou Construtor em que uma expressão [nameof](../../../csharp/language-reference/operators/nameof.md) ( `NameOf` na Visual Basic) adicionaria a facilidade de manutenção.</span><span class="sxs-lookup"><span data-stu-id="b0904-114">Rule CA1507 flags the use of a `string` literal as an argument to a method or constructor where a [nameof](../../../csharp/language-reference/operators/nameof.md) (`NameOf` in Visual Basic) expression would add maintainability.</span></span> <span data-ttu-id="b0904-115">A regra será acionada se todas as condições a seguir forem atendidas:</span><span class="sxs-lookup"><span data-stu-id="b0904-115">The rule fires if all of the following conditions are met:</span></span>

- <span data-ttu-id="b0904-116">O argumento é um `string` literal ou constante.</span><span class="sxs-lookup"><span data-stu-id="b0904-116">The argument is a `string` literal or constant.</span></span>

- <span data-ttu-id="b0904-117">O argumento corresponde a um `string` parâmetro-tipado do método ou do construtor que está sendo invocado (ou seja, não há nenhuma conversão envolvida no site de chamada).</span><span class="sxs-lookup"><span data-stu-id="b0904-117">The argument corresponds to a `string`-typed parameter of the method or the constructor that's being invoked (that is, there is no conversion involved at the call site).</span></span>

- <span data-ttu-id="b0904-118">Ou:</span><span class="sxs-lookup"><span data-stu-id="b0904-118">Either:</span></span>
  - <span data-ttu-id="b0904-119">O nome declarado do parâmetro é `paramName` e o valor constante do `string` literal corresponde ao nome de um parâmetro do método, lambda ou função local dentro do qual o método ou Construtor está sendo invocado.</span><span class="sxs-lookup"><span data-stu-id="b0904-119">The declared name of the parameter is `paramName` and the constant value of the `string` literal matches the name of a parameter of the method, lambda, or local function within which the method or constructor is being invoked.</span></span>

  - <span data-ttu-id="b0904-120">O nome declarado do parâmetro é `propertyName` e o valor constante do `string` literal corresponde ao nome de uma propriedade do tipo no qual o método ou Construtor está sendo invocado.</span><span class="sxs-lookup"><span data-stu-id="b0904-120">The declared name of the parameter is `propertyName` and the constant value of the `string` literal matches the name of a property of the type within which the method or constructor is being invoked.</span></span>

<span data-ttu-id="b0904-121">A regra CA1507 melhora a manutenção do código nos casos em que o parâmetro pode ser renomeado no futuro, mas o `string` literal não é renomeado erroneamente.</span><span class="sxs-lookup"><span data-stu-id="b0904-121">Rule CA1507 improves code maintainability in cases where the parameter may be renamed in the future, but the `string` literal is mistakenly not renamed.</span></span> <span data-ttu-id="b0904-122">Usando o `nameof` , o símbolo será renomeado quando o parâmetro for renomeado por meio de uma operação de refatoração.</span><span class="sxs-lookup"><span data-stu-id="b0904-122">By using `nameof`, the symbol will be renamed when the parameter is renamed through a refactoring operation.</span></span> <span data-ttu-id="b0904-123">Além disso, os erros de ortografia no nome do parâmetro são capturados pelo compilador.</span><span class="sxs-lookup"><span data-stu-id="b0904-123">In addition, any spelling mistakes in the name of the parameter are caught by the compiler.</span></span>

## <a name="how-to-fix-violations"></a><span data-ttu-id="b0904-124">Como corrigir violações</span><span class="sxs-lookup"><span data-stu-id="b0904-124">How to fix violations</span></span>

<span data-ttu-id="b0904-125">Para corrigir uma violação, substitua o `string` literal por uma expressão [nameof](../../../csharp/language-reference/operators/nameof.md) ( `NameOf` na Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="b0904-125">To fix a violation, replace the `string` literal with a [nameof](../../../csharp/language-reference/operators/nameof.md) (`NameOf` in Visual Basic) expression.</span></span> <span data-ttu-id="b0904-126">Por exemplo, os dois trechos de código a seguir mostram uma violação da regra e como corrigi-la:</span><span class="sxs-lookup"><span data-stu-id="b0904-126">For example, the following two code snippets show a violation of the rule and how to fix it:</span></span>

```csharp
public Book(string title)
{
    // Violates rule CA1507
    Title = title ?? throw new ArgumentNullException("title", "All books must have a title.");
}
```

```csharp
public Book(string title)
{
    // Resolves rule CA1507 violation
    Title = title ?? throw new ArgumentNullException(nameof(title), "All books must have a title.");
}
```

> [!TIP]
> <span data-ttu-id="b0904-127">Uma correção de código está disponível para esta regra no Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="b0904-127">A code fix is available for this rule in Visual Studio.</span></span> <span data-ttu-id="b0904-128">Para usá-lo, posicione o cursor no `string` literal e pressione **Ctrl** + **.**</span><span class="sxs-lookup"><span data-stu-id="b0904-128">To use it, position the cursor on the `string` literal and press **Ctrl**+**.**</span></span> <span data-ttu-id="b0904-129">(ponto).</span><span class="sxs-lookup"><span data-stu-id="b0904-129">(period).</span></span> <span data-ttu-id="b0904-130">Escolha **usar nameof para expressar nomes de símbolo** na lista de opções apresentadas.</span><span class="sxs-lookup"><span data-stu-id="b0904-130">Choose **Use nameof to express symbol names** from the list of options that's presented.</span></span>
>
> ![Correção de código para CA1507-use nameof para expressar nomes de símbolo](media/ca1507-code-fix.PNG)

## <a name="when-to-suppress-warnings"></a><span data-ttu-id="b0904-132">Quando suprimir avisos</span><span class="sxs-lookup"><span data-stu-id="b0904-132">When to suppress warnings</span></span>

<span data-ttu-id="b0904-133">É seguro suprimir uma violação dessa regra se você não estiver preocupado com a manutenção do seu código.</span><span class="sxs-lookup"><span data-stu-id="b0904-133">It's safe to suppress a violation of this rule if you're not concerned about the maintainability of your code.</span></span>

## <a name="related-rules"></a><span data-ttu-id="b0904-134">Regras relacionadas</span><span class="sxs-lookup"><span data-stu-id="b0904-134">Related rules</span></span>

- [<span data-ttu-id="b0904-135">CA2208: Criar instância de exceções de argumento corretamente</span><span class="sxs-lookup"><span data-stu-id="b0904-135">CA2208: Instantiate argument exceptions correctly</span></span>](ca2208.md)

## <a name="see-also"></a><span data-ttu-id="b0904-136">Confira também</span><span class="sxs-lookup"><span data-stu-id="b0904-136">See also</span></span>

- [<span data-ttu-id="b0904-137">Regras de facilidade de manutenção</span><span class="sxs-lookup"><span data-stu-id="b0904-137">Maintainability rules</span></span>](maintainability-warnings.md)
