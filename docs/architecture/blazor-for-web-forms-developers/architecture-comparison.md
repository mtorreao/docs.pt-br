---
title: Comparação de arquitetura do ASP.NET Web Forms e Blazor
description: Saiba como as arquiteturas do ASP.NET Web Forms e Blazor comparar.
author: danroth27
ms.author: daroth
no-loc:
- Blazor
ms.date: 11/20/2020
ms.openlocfilehash: afb5d4025b81c2ddef782c462c94d32edc872a21
ms.sourcegitcommit: 2f485e721f7f34b87856a51181b5b56624b31fd5
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 12/02/2020
ms.locfileid: "96509722"
---
# <a name="architecture-comparison-of-aspnet-web-forms-and-no-locblazor"></a><span data-ttu-id="2bde1-103">Comparação de arquitetura do ASP.NET Web Forms e Blazor</span><span class="sxs-lookup"><span data-stu-id="2bde1-103">Architecture comparison of ASP.NET Web Forms and Blazor</span></span>

<span data-ttu-id="2bde1-104">Embora o ASP.NET Web Forms e Blazor tenha muitos conceitos semelhantes, há diferenças em como eles funcionam.</span><span class="sxs-lookup"><span data-stu-id="2bde1-104">While ASP.NET Web Forms and Blazor have many similar concepts, there are differences in how they work.</span></span> <span data-ttu-id="2bde1-105">Este capítulo examina as arquiteturas e os trabalhos internos do ASP.NET Web Forms e Blazor .</span><span class="sxs-lookup"><span data-stu-id="2bde1-105">This chapter examines the inner workings and architectures of ASP.NET Web Forms and Blazor.</span></span>

## <a name="aspnet-web-forms"></a><span data-ttu-id="2bde1-106">Web Forms do ASP.NET</span><span class="sxs-lookup"><span data-stu-id="2bde1-106">ASP.NET Web Forms</span></span>

<span data-ttu-id="2bde1-107">O ASP.NET Web Forms Framework se baseia em uma arquitetura centrada em página.</span><span class="sxs-lookup"><span data-stu-id="2bde1-107">The ASP.NET Web Forms framework is based on a page-centric architecture.</span></span> <span data-ttu-id="2bde1-108">Cada solicitação HTTP para um local no aplicativo é uma página separada com a qual o ASP.NET responde.</span><span class="sxs-lookup"><span data-stu-id="2bde1-108">Each HTTP request for a location in the app is a separate page with which ASP.NET responds.</span></span> <span data-ttu-id="2bde1-109">À medida que as páginas são solicitadas, o conteúdo do navegador é substituído pelos resultados da página solicitada.</span><span class="sxs-lookup"><span data-stu-id="2bde1-109">As pages are requested, the contents of the browser are replaced with the results of the page requested.</span></span>

<span data-ttu-id="2bde1-110">As páginas consistem nos seguintes componentes:</span><span class="sxs-lookup"><span data-stu-id="2bde1-110">Pages consist of the following components:</span></span>

- <span data-ttu-id="2bde1-111">Marcação HTML</span><span class="sxs-lookup"><span data-stu-id="2bde1-111">HTML markup</span></span>
- <span data-ttu-id="2bde1-112">Código em C# ou Visual Basic</span><span class="sxs-lookup"><span data-stu-id="2bde1-112">C# or Visual Basic code</span></span>
- <span data-ttu-id="2bde1-113">Uma classe code-behind que contém recursos de lógica e manipulação de eventos</span><span class="sxs-lookup"><span data-stu-id="2bde1-113">A code-behind class containing logic and event-handling capabilities</span></span>
- <span data-ttu-id="2bde1-114">Controles</span><span class="sxs-lookup"><span data-stu-id="2bde1-114">Controls</span></span>

<span data-ttu-id="2bde1-115">Os controles são unidades reutilizáveis da interface do usuário da Web que podem ser colocadas e interagir de forma programática em uma página.</span><span class="sxs-lookup"><span data-stu-id="2bde1-115">Controls are reusable units of web UI that can be programmatically placed and interacted with on a page.</span></span> <span data-ttu-id="2bde1-116">As páginas são compostas por arquivos que terminam com *. aspx* contendo marcação, controles e algum código.</span><span class="sxs-lookup"><span data-stu-id="2bde1-116">Pages are composed of files that end with *.aspx* containing markup, controls, and some code.</span></span> <span data-ttu-id="2bde1-117">As classes code-behind estão em arquivos com o mesmo nome base e uma extensão *. aspx.cs* ou *. aspx. vb* , dependendo da linguagem de programação usada.</span><span class="sxs-lookup"><span data-stu-id="2bde1-117">The code-behind classes are in files with the same base name and an *.aspx.cs* or *.aspx.vb* extension, depending on the programming language used.</span></span> <span data-ttu-id="2bde1-118">Curiosamente, o servidor Web interpreta o conteúdo dos arquivos *. aspx* e os compila sempre que eles forem alterados.</span><span class="sxs-lookup"><span data-stu-id="2bde1-118">Interestingly, the web server interprets contents of the *.aspx* files and compiles them whenever they change.</span></span> <span data-ttu-id="2bde1-119">Essa recompilação ocorre mesmo que o servidor Web já esteja em execução.</span><span class="sxs-lookup"><span data-stu-id="2bde1-119">This recompilation occurs even if the web server is already running.</span></span>

<span data-ttu-id="2bde1-120">Os controles podem ser criados com marcação e entregues como controles de usuário.</span><span class="sxs-lookup"><span data-stu-id="2bde1-120">Controls can be built with markup and delivered as user controls.</span></span> <span data-ttu-id="2bde1-121">Um controle de usuário deriva da `UserControl` classe e tem uma estrutura semelhante à página.</span><span class="sxs-lookup"><span data-stu-id="2bde1-121">A user control derives from the `UserControl` class and has a similar structure to the Page.</span></span> <span data-ttu-id="2bde1-122">A marcação para controles de usuário é armazenada em um arquivo *. ascx* .</span><span class="sxs-lookup"><span data-stu-id="2bde1-122">Markup for user controls is stored in an *.ascx* file.</span></span> <span data-ttu-id="2bde1-123">Uma classe code-behind acompanhante reside em um arquivo *. ascx.cs* ou *. ascx. vb* .</span><span class="sxs-lookup"><span data-stu-id="2bde1-123">An accompanying code-behind class resides in an *.ascx.cs* or *.ascx.vb* file.</span></span> <span data-ttu-id="2bde1-124">Os controles também podem ser compilados completamente com o código, herdando da `WebControl` `CompositeControl` classe base ou.</span><span class="sxs-lookup"><span data-stu-id="2bde1-124">Controls can also be built completely with code, by inheriting from either the `WebControl` or `CompositeControl` base class.</span></span>

<span data-ttu-id="2bde1-125">As páginas também têm um ciclo de vida de eventos extensivo.</span><span class="sxs-lookup"><span data-stu-id="2bde1-125">Pages also have an extensive event lifecycle.</span></span> <span data-ttu-id="2bde1-126">Cada página gera eventos para os eventos de inicialização, carregamento, PreRender e Unload que ocorrem quando o tempo de execução ASP.NET executa o código da página para cada solicitação.</span><span class="sxs-lookup"><span data-stu-id="2bde1-126">Each page raises events for the initialization, load, prerender, and unload events that occur as the ASP.NET runtime executes the page's code for each request.</span></span>

<span data-ttu-id="2bde1-127">Os controles em uma página normalmente são postbacks para a mesma página que apresentou o controle e transportam-se por uma carga de um campo de formulário oculto chamado `ViewState` .</span><span class="sxs-lookup"><span data-stu-id="2bde1-127">Controls on a Page typically post-back to the same page that presented the control, and carry along with them a payload from a hidden form field called `ViewState`.</span></span> <span data-ttu-id="2bde1-128">O `ViewState` campo contém informações sobre o estado dos controles no momento em que eles foram renderizados e apresentados na página, permitindo que o tempo de execução do ASP.net compare e identifique as alterações no conteúdo enviado ao servidor.</span><span class="sxs-lookup"><span data-stu-id="2bde1-128">The `ViewState` field contains information about the state of the controls at the time they were rendered and presented on the page, allowing the ASP.NET runtime to compare and identify changes in the content submitted to the server.</span></span>

## Blazor

<span data-ttu-id="2bde1-129">Blazor é uma estrutura de interface do usuário da Web do lado do cliente semelhante à natureza das estruturas de front-end do JavaScript como angular ou reagir.</span><span class="sxs-lookup"><span data-stu-id="2bde1-129">Blazor is a client-side web UI framework similar in nature to JavaScript front-end frameworks like Angular or React.</span></span> <span data-ttu-id="2bde1-130">Blazor lida com as interações do usuário e renderiza as atualizações necessárias da interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="2bde1-130">Blazor handles user interactions and renders the necessary UI updates.</span></span> <span data-ttu-id="2bde1-131">Blazor*não é* baseado em um modelo de solicitação-resposta.</span><span class="sxs-lookup"><span data-stu-id="2bde1-131">Blazor *isn't* based on a request-reply model.</span></span> <span data-ttu-id="2bde1-132">As interações do usuário são tratadas como eventos que não estão no contexto de nenhuma solicitação HTTP específica.</span><span class="sxs-lookup"><span data-stu-id="2bde1-132">User interactions are handled as events that aren't in the context of any particular HTTP request.</span></span>

<span data-ttu-id="2bde1-133">Blazor os aplicativos consistem em um ou mais componentes raiz que são processados em uma página HTML.</span><span class="sxs-lookup"><span data-stu-id="2bde1-133">Blazor apps consist of one or more root components that are rendered on an HTML page.</span></span>

![::: no-Loc (mais alto)::: componentes em HTML](./media/architecture-comparison/blazor-components-in-html.png)

<span data-ttu-id="2bde1-135">Como o usuário especifica onde os componentes devem renderizar e como os componentes são conectados para interações de usuário é o [modelo de hospedagem](hosting-models.md) específico.</span><span class="sxs-lookup"><span data-stu-id="2bde1-135">How the user specifies where components should render and how the components are then wired up for user interactions is [hosting model](hosting-models.md) specific.</span></span>

<span data-ttu-id="2bde1-136">Blazoros [componentes](components.md) são classes .NET que representam uma parte reutilizável da interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="2bde1-136">Blazor [components](components.md) are .NET classes that represent a reusable piece of UI.</span></span> <span data-ttu-id="2bde1-137">Cada componente mantém seu próprio Estado e especifica sua própria lógica de renderização, que pode incluir a renderização de outros componentes.</span><span class="sxs-lookup"><span data-stu-id="2bde1-137">Each component maintains its own state and specifies its own rendering logic, which can include rendering other components.</span></span> <span data-ttu-id="2bde1-138">Os componentes especificam manipuladores de eventos para interações específicas do usuário para atualizar o estado do componente.</span><span class="sxs-lookup"><span data-stu-id="2bde1-138">Components specify event handlers for specific user interactions to update the component's state.</span></span>

<span data-ttu-id="2bde1-139">Depois que um componente manipula um evento, Blazor o renderiza o componente e controla o que foi alterado na saída renderizada.</span><span class="sxs-lookup"><span data-stu-id="2bde1-139">After a component handles an event, Blazor renders the component and keeps track of what changed in the rendered output.</span></span> <span data-ttu-id="2bde1-140">Os componentes não são renderizados diretamente para o Modelo de Objeto do Documento (DOM).</span><span class="sxs-lookup"><span data-stu-id="2bde1-140">Components don't render directly to the Document Object Model (DOM).</span></span> <span data-ttu-id="2bde1-141">Em vez disso, eles são renderizados em uma representação na memória do DOM chamado um `RenderTree` para que Blazor possa rastrear as alterações.</span><span class="sxs-lookup"><span data-stu-id="2bde1-141">They instead render to an in-memory representation of the DOM called a `RenderTree` so that Blazor can track the changes.</span></span> <span data-ttu-id="2bde1-142">Blazor compara a saída processada recentemente com a saída anterior para calcular uma comparação de interface do usuário que é aplicada com eficiência ao DOM.</span><span class="sxs-lookup"><span data-stu-id="2bde1-142">Blazor compares the newly rendered output with the previous output to calculate a UI diff that it then applies efficiently to the DOM.</span></span>

![::: no-Loc (mais alto)::: interação DOM](./media/architecture-comparison/blazor-dom-interaction.png)

<span data-ttu-id="2bde1-144">Os componentes também podem indicar manualmente que devem ser renderizados se seu estado for alterado fora de um evento de interface do usuário normal.</span><span class="sxs-lookup"><span data-stu-id="2bde1-144">Components can also manually indicate that they should be rendered if their state changes outside of a normal UI event.</span></span> <span data-ttu-id="2bde1-145">Blazor usa um `SynchronizationContext` para impor um único thread lógico de execução.</span><span class="sxs-lookup"><span data-stu-id="2bde1-145">Blazor uses a `SynchronizationContext` to enforce a single logical thread of execution.</span></span> <span data-ttu-id="2bde1-146">Os métodos de ciclo de vida de um componente e quaisquer retornos de chamada de evento que são gerados por Blazor são executados nesse `SynchronizationContext` .</span><span class="sxs-lookup"><span data-stu-id="2bde1-146">A component's lifecycle methods and any event callbacks that are raised by Blazor are executed on this `SynchronizationContext`.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="2bde1-147">[Anterior](introduction.md) 
> [Avançar](hosting-models.md)</span><span class="sxs-lookup"><span data-stu-id="2bde1-147">[Previous](introduction.md)
[Next](hosting-models.md)</span></span>
