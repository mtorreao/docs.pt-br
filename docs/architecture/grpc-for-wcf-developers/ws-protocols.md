---
title: Protocolos WS-*-gRPC para desenvolvedores do WCF
description: Revisão dos protocolos WS-* com suporte do WCF e das alternativas disponíveis com o gRPC
author: markrendle
ms.date: 12/15/2020
ms.openlocfilehash: d6fffdd5153c799c78ad949a3b16fa72e9612e43
ms.sourcegitcommit: 655f8a16c488567dfa696fc0b293b34d3c81e3df
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/06/2021
ms.locfileid: "97938475"
---
# <a name="ws--protocols"></a><span data-ttu-id="cb5aa-103">WS- \* Protocols</span><span class="sxs-lookup"><span data-stu-id="cb5aa-103">WS-\* protocols</span></span>

<span data-ttu-id="cb5aa-104">Um dos verdadeiros benefícios de trabalhar com o Windows Communication Foundation (WCF) era que ele oferecia suporte a muitos dos protocolos _WS- \*_ Standard existentes.</span><span class="sxs-lookup"><span data-stu-id="cb5aa-104">One of the real benefits of working with Windows Communication Foundation (WCF) was that it supported many of the existing _WS-\*_ standard protocols.</span></span> <span data-ttu-id="cb5aa-105">Esta seção explicará brevemente como o gRPC gerencia os mesmos WS- \* Protocols e discute quais opções estão disponíveis quando não há nenhuma alternativa.</span><span class="sxs-lookup"><span data-stu-id="cb5aa-105">This section will briefly cover how gRPC manages the same WS-\* protocols and discuss what options are available when there's no alternative.</span></span>

## <a name="metadata-exchange-ws-policy-ws-discovery-and-so-on"></a><span data-ttu-id="cb5aa-106">Troca de metadados: WS-Policy, WS-Discovery e assim por diante</span><span class="sxs-lookup"><span data-stu-id="cb5aa-106">Metadata exchange: WS-Policy, WS-Discovery, and so on</span></span>

<span data-ttu-id="cb5aa-107">Os serviços SOAP expõem documentos de esquema WSDL (linguagem de descrição de serviços Web) com informações como formatos de dados, operações ou opções de comunicação.</span><span class="sxs-lookup"><span data-stu-id="cb5aa-107">SOAP services expose Web Services Description Language (WSDL) schema documents with information such as data formats, operations, or communication options.</span></span> <span data-ttu-id="cb5aa-108">Você pode usar este esquema para gerar o código do cliente.</span><span class="sxs-lookup"><span data-stu-id="cb5aa-108">You can use this schema to generate the client code.</span></span>

<span data-ttu-id="cb5aa-109">o gRPC funciona melhor quando servidores e clientes são gerados a partir dos mesmos `.proto` arquivos, mas uma extensão opcional de reflexão de servidor fornece uma maneira de expor informações dinâmicas de um servidor em execução.</span><span class="sxs-lookup"><span data-stu-id="cb5aa-109">gRPC works best when servers and clients are generated from the same `.proto` files, but a Server Reflection optional extension does provide a way to expose dynamic information from a running server.</span></span> <span data-ttu-id="cb5aa-110">Para obter mais informações, consulte o pacote NuGet [Grpc. Reflection](https://nuget.org/packages/Grpc.Reflection) e o artigo de [reflexão do servidor Grpc C#](https://github.com/grpc/grpc/blob/master/doc/csharp/server_reflection.md) .</span><span class="sxs-lookup"><span data-stu-id="cb5aa-110">For more information, see the [Grpc.Reflection](https://nuget.org/packages/Grpc.Reflection) NuGet package and the [gRPC C# Server Reflection](https://github.com/grpc/grpc/blob/master/doc/csharp/server_reflection.md) article.</span></span>

<span data-ttu-id="cb5aa-111">O protocolo WS-Discovery é usado para localizar serviços em uma rede local.</span><span class="sxs-lookup"><span data-stu-id="cb5aa-111">The WS-Discovery protocol is used to locate services on a local network.</span></span> <span data-ttu-id="cb5aa-112">os serviços gRPCs estão localizados por meio do DNS ou de um registro de serviço, como Consul ou ZooKeeper.</span><span class="sxs-lookup"><span data-stu-id="cb5aa-112">gRPC services are located through DNS or a service registry such as Consul or ZooKeeper.</span></span>

## <a name="security-ws-security-ws-federation-xml-encryption-and-so-on"></a><span data-ttu-id="cb5aa-113">Segurança: WS-Security, WS-Federation, criptografia XML e assim por diante</span><span class="sxs-lookup"><span data-stu-id="cb5aa-113">Security: WS-Security, WS-Federation, XML Encryption, and so on</span></span>

<span data-ttu-id="cb5aa-114">A segurança, a autenticação e a autorização são abordadas com muito mais detalhes no [capítulo 6](security.md).</span><span class="sxs-lookup"><span data-stu-id="cb5aa-114">Security, authentication, and authorization are covered in much more detail in [chapter 6](security.md).</span></span> <span data-ttu-id="cb5aa-115">Mas vale a pena observar que, ao contrário do WCF, o gRPC não dá suporte a WS-Security, WS-Federation ou criptografia XML.</span><span class="sxs-lookup"><span data-stu-id="cb5aa-115">But it's worth noting here that, unlike WCF, gRPC doesn't support WS-Security, WS-Federation, or XML Encryption.</span></span> <span data-ttu-id="cb5aa-116">Mesmo assim, o gRPC fornece excelente segurança.</span><span class="sxs-lookup"><span data-stu-id="cb5aa-116">Even so, gRPC provides excellent security.</span></span> <span data-ttu-id="cb5aa-117">Todo o tráfego de rede gRPC é criptografado automaticamente quando está usando HTTP/2 por TLS.</span><span class="sxs-lookup"><span data-stu-id="cb5aa-117">All gRPC network traffic is automatically encrypted when it's using HTTP/2 over TLS.</span></span> <span data-ttu-id="cb5aa-118">Você pode usar certificados X509 para autenticação de cliente/servidor mútuo.</span><span class="sxs-lookup"><span data-stu-id="cb5aa-118">You can use X509 certificates for mutual client/server authentication.</span></span>

## <a name="ws-reliablemessaging"></a><span data-ttu-id="cb5aa-119">WS-ReliableMessaging</span><span class="sxs-lookup"><span data-stu-id="cb5aa-119">WS-ReliableMessaging</span></span>

<span data-ttu-id="cb5aa-120">gRPC não fornece um equivalente a WS-ReliableMessaging.</span><span class="sxs-lookup"><span data-stu-id="cb5aa-120">gRPC does not provide an equivalent to WS-ReliableMessaging.</span></span> <span data-ttu-id="cb5aa-121">A semântica de repetição deve ser tratada no código, possivelmente com uma biblioteca como [Polly](https://github.com/App-vNext/Polly).</span><span class="sxs-lookup"><span data-stu-id="cb5aa-121">Retry semantics should be handled in code, possibly with a library like [Polly](https://github.com/App-vNext/Polly).</span></span> <span data-ttu-id="cb5aa-122">Quando você está executando em ambientes de orquestração kubernetes ou similares, as [malhas de serviço](service-mesh.md) também podem ajudar a fornecer mensagens confiáveis entre serviços.</span><span class="sxs-lookup"><span data-stu-id="cb5aa-122">When you're running in Kubernetes or similar orchestration environments, [service meshes](service-mesh.md) can also help to provide reliable messaging between services.</span></span>

## <a name="ws-transaction-ws-coordination"></a><span data-ttu-id="cb5aa-123">WS-Transaction, WS-Coordination</span><span class="sxs-lookup"><span data-stu-id="cb5aa-123">WS-Transaction, WS-Coordination</span></span>

<span data-ttu-id="cb5aa-124">A implementação do WCF de transações distribuídas usa o Microsoft Coordenador de Transações Distribuídas (MSDTC).</span><span class="sxs-lookup"><span data-stu-id="cb5aa-124">WCF's implementation of distributed transactions uses Microsoft Distributed Transaction Coordinator (MSDTC).</span></span> <span data-ttu-id="cb5aa-125">Ele funciona com gerenciadores de recursos que dão suporte especificamente a ele, como SQL Server, MSMQ ou sistemas de arquivos do Windows.</span><span class="sxs-lookup"><span data-stu-id="cb5aa-125">It works with resource managers that specifically support it, like SQL Server, MSMQ, or Windows file systems.</span></span> <span data-ttu-id="cb5aa-126">Ainda não há nenhum equivalente no mundo de microserviços modernos, em parte devido à maior variedade de tecnologias em uso.</span><span class="sxs-lookup"><span data-stu-id="cb5aa-126">There's no equivalent yet in the modern microservices world, in part due to the wider range of technologies in use.</span></span> <span data-ttu-id="cb5aa-127">Para obter uma discussão sobre transações, consulte [o apêndice a](appendix.md).</span><span class="sxs-lookup"><span data-stu-id="cb5aa-127">For a discussion of transactions, see [Appendix A](appendix.md).</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="cb5aa-128">[Anterior](error-handling.md) 
> [Avançar](migrate-wcf-to-grpc.md)</span><span class="sxs-lookup"><span data-stu-id="cb5aa-128">[Previous](error-handling.md)
[Next](migrate-wcf-to-grpc.md)</span></span>
