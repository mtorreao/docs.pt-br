---
title: Ferramentas do Visual Studio para Docker no Windows
description: Conheça as ferramentas disponíveis do Docker no Visual Studio 2017 versão 15.7 e posteriores.
ms.date: 01/06/2021
ms.custom: vs-dotnet
ms.openlocfilehash: 0f6a0ca0e90021f5d374cfacc5c498f257ab5422
ms.sourcegitcommit: 7ef96827b161ef3fcde75f79d839885632e26ef1
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "97970494"
---
# <a name="use-docker-tools-in-visual-studio-on-windows"></a><span data-ttu-id="013ed-103">Usar ferramentas do Docker no Visual Studio no Windows</span><span class="sxs-lookup"><span data-stu-id="013ed-103">Use Docker Tools in Visual Studio on Windows</span></span>

<span data-ttu-id="013ed-104">O fluxo de trabalho do desenvolvedor ao usar as ferramentas do Docker, inclusas no Visual Studio 2017 versão 15.7 e posteriores, é semelhante a usar o Visual Studio Code e a CLI do Docker (na verdade, ele se baseia na mesma CLI do Docker), mas é mais fácil de começar a usar, simplifica o processo e fornece maior produtividade para criar, executar e compor tarefas.</span><span class="sxs-lookup"><span data-stu-id="013ed-104">The developer workflow when using the Docker Tools included in Visual Studio 2017 version 15.7 and later, is similar to using Visual Studio Code and Docker CLI (in fact, it's based on the same Docker CLI), but it's easier to get started, simplifies the process, and provides greater productivity for the build, run, and compose tasks.</span></span> <span data-ttu-id="013ed-105">Ele também pode executar e depurar seus contêineres por meio das teclas `F5` e `Ctrl+F5` usuais do Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="013ed-105">It can also run and debug your containers via the usual `F5` and `Ctrl+F5` keys from Visual Studio.</span></span> <span data-ttu-id="013ed-106">Você poderá até mesmo depurar toda a solução se seus contêineres estiverem definidos no mesmo arquivo `docker-compose.yml` no nível da solução.</span><span class="sxs-lookup"><span data-stu-id="013ed-106">You can even debug a whole solution if its containers are defined in the same `docker-compose.yml` file at the solution level.</span></span>

## <a name="configure-your-local-environment"></a><span data-ttu-id="013ed-107">Configurar o ambiente local</span><span class="sxs-lookup"><span data-stu-id="013ed-107">Configure your local environment</span></span>

<span data-ttu-id="013ed-108">Com as versões mais recentes do Docker for Windows, é mais fácil do que nunca desenvolver aplicativos do Docker porque a instalação é simples, conforme explicado nas referências a seguir.</span><span class="sxs-lookup"><span data-stu-id="013ed-108">With the latest versions of Docker for Windows, it's easier than ever to develop Docker applications because the setup is straightforward, as explained in the following references.</span></span>

> [!TIP]
> <span data-ttu-id="013ed-109">Para saber mais sobre como instalar o Docker for Windows, confira (<https://docs.docker.com/docker-for-windows/>).</span><span class="sxs-lookup"><span data-stu-id="013ed-109">To learn more about installing Docker for Windows, go to (<https://docs.docker.com/docker-for-windows/>).</span></span>

## <a name="docker-support-in-visual-studio"></a><span data-ttu-id="013ed-110">Suporte ao Docker no Visual Studio</span><span class="sxs-lookup"><span data-stu-id="013ed-110">Docker support in Visual Studio</span></span>

<span data-ttu-id="013ed-111">Há dois níveis de suporte do Docker que você pode adicionar a um projeto.</span><span class="sxs-lookup"><span data-stu-id="013ed-111">There are two levels of Docker support you can add to a project.</span></span> <span data-ttu-id="013ed-112">Em projetos do ASP.NET Core, você pode adicionar um arquivo `Dockerfile` ao projeto habilitando o suporte do Docker.</span><span class="sxs-lookup"><span data-stu-id="013ed-112">In ASP.NET Core projects, you can just add a `Dockerfile` file to the project by enabling Docker support.</span></span> <span data-ttu-id="013ed-113">O próximo nível é o suporte à orquestração de contêiner, que adiciona um `Dockerfile` ao projeto (caso ainda não exista) e um arquivo `docker-compose.yml` no nível da solução.</span><span class="sxs-lookup"><span data-stu-id="013ed-113">The next level is container orchestration support, which adds a `Dockerfile` to the project (if it doesn't already exist) and a `docker-compose.yml` file at the solution level.</span></span> <span data-ttu-id="013ed-114">O suporte à orquestração de contêiner, por meio do Docker Compose, é adicionado por padrão no Visual Studio 2017 versões 15.0 a 15.7.</span><span class="sxs-lookup"><span data-stu-id="013ed-114">Container orchestration support, via Docker Compose, is added by default in Visual Studio 2017 versions 15.0 to 15.7.</span></span> <span data-ttu-id="013ed-115">O suporte à orquestração de contêiner é um recurso de aceitação no Visual Studio 2017 versão 15.8 ou posteriores.</span><span class="sxs-lookup"><span data-stu-id="013ed-115">Container orchestration support is an opt-in feature in Visual Studio 2017 versions 15.8 or later.</span></span> <span data-ttu-id="013ed-116">O Visual Studio 2019 e versões posteriores também dão suporte à implantação de **kubernetes/Helm** .</span><span class="sxs-lookup"><span data-stu-id="013ed-116">Visual Studio 2019 and later supports **Kubernetes/Helm** deployment as well.</span></span>

<span data-ttu-id="013ed-117">Os comandos **Adicionar > Suporte ao Docker** e **Adicionar > Suporte ao Orquestrador de Contêineres** estão localizados no menu de clique com o botão direito do mouse (ou menu de contexto) do nó do projeto para um projeto do ASP.NET Core no **Gerenciador de Soluções**, como mostrado na Figura 4-31:</span><span class="sxs-lookup"><span data-stu-id="013ed-117">The **Add > Docker Support** and **Add > Container Orchestrator Support** commands are located on the right-click menu (or context menu) of the project node for an ASP.NET Core project in **Solution Explorer**, as shown in Figure 4-31:</span></span>

![Adicionar a opção de menu de Suporte ao Docker no Visual Studio](media/add-docker-support-menu.png)

<span data-ttu-id="013ed-119">**Figura 4-31**.</span><span class="sxs-lookup"><span data-stu-id="013ed-119">**Figure 4-31**.</span></span> <span data-ttu-id="013ed-120">Adicionando o suporte do Docker a um projeto do Visual Studio 2019</span><span class="sxs-lookup"><span data-stu-id="013ed-120">Adding Docker support to a Visual Studio 2019 project</span></span>

### <a name="add-docker-support"></a><span data-ttu-id="013ed-121">Adicionar suporte ao Docker</span><span class="sxs-lookup"><span data-stu-id="013ed-121">Add Docker support</span></span>

<span data-ttu-id="013ed-122">Além da opção de adicionar suporte do Docker a um aplicativo existente, conforme mostrado na seção anterior, você também pode habilitar o suporte do Docker durante a criação do projeto selecionando **habilitar suporte do Docker** na caixa de diálogo **novo ASP.NET Core aplicativo Web** que é aberta depois que você clica em **OK** na caixa de diálogo **novo projeto** , como mostrado na Figura 4-32.</span><span class="sxs-lookup"><span data-stu-id="013ed-122">Besides the option to add Docker support to an existing application, as shown in the previous section, you can also enable Docker support during project creation by selecting **Enable Docker Support** in the **New ASP.NET Core Web Application** dialog box that opens after you click **OK** in the **New Project** dialog box, as shown in Figure 4-32.</span></span>

![Habilitar o suporte ao Docker para o novo aplicativo Web do ASP.NET Core no Visual Studio](media/enable-docker-support-visual-studio.png)

<span data-ttu-id="013ed-124">**Figura 4-32**.</span><span class="sxs-lookup"><span data-stu-id="013ed-124">**Figure 4-32**.</span></span> <span data-ttu-id="013ed-125">Habilitar o suporte do Docker durante a criação do projeto no Visual Studio 2019</span><span class="sxs-lookup"><span data-stu-id="013ed-125">Enable Docker support during project creation in Visual Studio 2019</span></span>

<span data-ttu-id="013ed-126">Quando você adiciona ou habilita o suporte do Docker, o Visual Studio adiciona um arquivo _Dockerfile_ ao projeto, que inclui referências a todo o projeto necessário da solução.</span><span class="sxs-lookup"><span data-stu-id="013ed-126">When you add or enable Docker support, Visual Studio adds a _Dockerfile_ file to the project, that includes references to all required project from the solution.</span></span>

### <a name="add-container-orchestration-support"></a><span data-ttu-id="013ed-127">Adicionar suporte à orquestração de contêiner</span><span class="sxs-lookup"><span data-stu-id="013ed-127">Add container orchestration support</span></span>

<span data-ttu-id="013ed-128">Se você deseja compor uma solução de vários contêineres, adicione o suporte à orquestração de contêiner aos seus projetos.</span><span class="sxs-lookup"><span data-stu-id="013ed-128">When you want to compose a multi-container solution, add container orchestration support to your projects.</span></span> <span data-ttu-id="013ed-129">Isso permite que você execute e depure um grupo de contêineres (uma solução inteira) ao mesmo tempo, como se eles estivessem definidos no mesmo arquivo _docker-compose.yml_.</span><span class="sxs-lookup"><span data-stu-id="013ed-129">This lets you run and debug a group of containers (a whole solution) at the same time if they're defined in the same _docker-compose.yml_ file.</span></span>

<span data-ttu-id="013ed-130">Para adicionar o suporte à orquestração de contêiner, clique com o botão direito do mouse no nó do projeto ou na solução no **Gerenciador de Soluções** e escolha **Adicionar > Suporte à orquestração de contêiner**.</span><span class="sxs-lookup"><span data-stu-id="013ed-130">To add container orchestration support, right-click on the solution or project node in **Solution Explorer**, and choose **Add > Container Orchestration Support**.</span></span> <span data-ttu-id="013ed-131">Em seguida, escolha **kubernetes/Helm** ou **Docker Compose** para gerenciar os contêineres.</span><span class="sxs-lookup"><span data-stu-id="013ed-131">Then choose **Kubernetes/Helm** or **Docker Compose** to manage the containers.</span></span>

<span data-ttu-id="013ed-132">Depois de adicionar suporte de orquestração de contêiner ao seu projeto, você verá um Dockerfile adicionado ao projeto e uma pasta **Docker-Compose** adicionada à solução em **Gerenciador de soluções**, conforme mostrado na Figura 4-33:</span><span class="sxs-lookup"><span data-stu-id="013ed-132">After you add container orchestration support to your project, you see a Dockerfile added to the project and a **docker-compose** folder added to the solution in **Solution Explorer**, as shown in Figure 4-33:</span></span>

![Arquivos do Docker no Gerenciador de Soluções no Visual Studio](media/docker-support-solution-explorer.png)

<span data-ttu-id="013ed-134">**Figura 4-33**.</span><span class="sxs-lookup"><span data-stu-id="013ed-134">**Figure 4-33**.</span></span> <span data-ttu-id="013ed-135">Arquivos do Docker no Gerenciador de Soluções no Visual Studio 2019</span><span class="sxs-lookup"><span data-stu-id="013ed-135">Docker files in Solution Explorer in Visual Studio 2019</span></span>

<span data-ttu-id="013ed-136">Se o _docker-compose.yml_ já existir, o Visual Studio adiciona nele apenas as linhas necessárias do código de configuração.</span><span class="sxs-lookup"><span data-stu-id="013ed-136">If _docker-compose.yml_ already exists, Visual Studio just adds the required lines of configuration code to it.</span></span>

## <a name="configure-docker-tools"></a><span data-ttu-id="013ed-137">Configurar as ferramentas do Docker</span><span class="sxs-lookup"><span data-stu-id="013ed-137">Configure Docker tools</span></span>

<span data-ttu-id="013ed-138">No menu principal, escolha **Ferramentas > Opções** e expanda **Ferramentas de contêiner > Configurações**.</span><span class="sxs-lookup"><span data-stu-id="013ed-138">From the main menu, choose **Tools > Options**, and expand **Container Tools > Settings**.</span></span> <span data-ttu-id="013ed-139">As configurações de ferramentas de contêiner aparecem.</span><span class="sxs-lookup"><span data-stu-id="013ed-139">The container tools settings appear.</span></span>

![Opções das ferramentas do Docker do Visual Studio, mostrando três páginas: geral, projeto único e Docker Compose, detalhes no texto do artigo.](media/visual-studio-docker-tools-options.png)

<span data-ttu-id="013ed-141">**Figura 4-34**.</span><span class="sxs-lookup"><span data-stu-id="013ed-141">**Figure 4-34**.</span></span> <span data-ttu-id="013ed-142">Opções de ferramentas do Docker</span><span class="sxs-lookup"><span data-stu-id="013ed-142">Docker Tools Options</span></span>

<span data-ttu-id="013ed-143">A tabela a seguir pode ajudá-lo a decidir como definir essas opções.</span><span class="sxs-lookup"><span data-stu-id="013ed-143">The following table might help you decide how to set these options.</span></span>

| <span data-ttu-id="013ed-144">Página/configuração</span><span class="sxs-lookup"><span data-stu-id="013ed-144">Page/Setting</span></span>                                |  <span data-ttu-id="013ed-145">Configuração padrão</span><span class="sxs-lookup"><span data-stu-id="013ed-145">Default Setting</span></span>   | <span data-ttu-id="013ed-146">Descrição</span><span class="sxs-lookup"><span data-stu-id="013ed-146">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                           |
| ------------------------------------------- | :----------------: | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <span data-ttu-id="013ed-147">**Página Geral**</span><span class="sxs-lookup"><span data-stu-id="013ed-147">**General page**</span></span>                            |
| <span data-ttu-id="013ed-148">Instalar o Docker desktop, se necessário</span><span class="sxs-lookup"><span data-stu-id="013ed-148">Install Docker Desktop if needed</span></span>            |     <span data-ttu-id="013ed-149">Avisar-me</span><span class="sxs-lookup"><span data-stu-id="013ed-149">Prompt me</span></span>      |
| <span data-ttu-id="013ed-150">Iniciar o Docker desktop, se necessário</span><span class="sxs-lookup"><span data-stu-id="013ed-150">Start Docker Desktop if needed</span></span>              |     <span data-ttu-id="013ed-151">Avisar-me</span><span class="sxs-lookup"><span data-stu-id="013ed-151">Prompt me</span></span>      |
| <span data-ttu-id="013ed-152">Confiar ASP.NET Core certificado SSL</span><span class="sxs-lookup"><span data-stu-id="013ed-152">Trust ASP.NET Core SSL certificate</span></span>          |     <span data-ttu-id="013ed-153">Avisar-me</span><span class="sxs-lookup"><span data-stu-id="013ed-153">Prompt me</span></span>      | <span data-ttu-id="013ed-154">Se o certificado SSL do localhost não tiver sido marcado como confiável (com `dotnet dev-certs https --trust` ), o Visual Studio será notificado sempre que você executar o projeto.</span><span class="sxs-lookup"><span data-stu-id="013ed-154">If the localhost SSL certificate hasn't been marked as trusted (with `dotnet dev-certs https --trust`), Visual Studio will prompt every time you run your project.</span></span>                                                                                                                                                                                                                                                    |
| <span data-ttu-id="013ed-155">**Página de projeto único**</span><span class="sxs-lookup"><span data-stu-id="013ed-155">**Single Project page**</span></span>                     |
| <span data-ttu-id="013ed-156">Efetuar pull de imagens do Docker necessárias no projeto aberto</span><span class="sxs-lookup"><span data-stu-id="013ed-156">Pull required Docker images on project open</span></span> |        <span data-ttu-id="013ed-157">Verdadeiro</span><span class="sxs-lookup"><span data-stu-id="013ed-157">True</span></span>        | <span data-ttu-id="013ed-158">Para aumentar o desempenho ao executar o projeto, o Visual Studio iniciará uma operação de pull do Docker em segundo plano para que, quando você estiver pronto para executar seu código, a imagem já esteja baixada ou no processo de download.</span><span class="sxs-lookup"><span data-stu-id="013ed-158">For increased performance when running the project, Visual Studio will start a Docker pull operation in the background so that when you're ready to run your code, the image is already downloaded or in the process of downloading.</span></span> <span data-ttu-id="013ed-159">Se você estiver apenas carregando projetos e procurando código, será possível desativar isso para evitar o download de imagens de contêiner que você não precisa.</span><span class="sxs-lookup"><span data-stu-id="013ed-159">If you're just loading projects and browsing code, you can turn this off to avoid downloading container images you don't need.</span></span> <span data-ttu-id="013ed-160">Isso pode reduzir a experiência do usuário do projeto aberto.</span><span class="sxs-lookup"><span data-stu-id="013ed-160">This could slow the open project user experience.</span></span> |
| <span data-ttu-id="013ed-161">Efetuar pull de imagens atualizadas do Docker na carga do projeto</span><span class="sxs-lookup"><span data-stu-id="013ed-161">Pull updated Docker images on project load</span></span>  | <span data-ttu-id="013ed-162">Projetos do .NET Core</span><span class="sxs-lookup"><span data-stu-id="013ed-162">.NET Core projects</span></span> | <span data-ttu-id="013ed-163">Receba atualizações para imagens existentes para obter as atualizações mais recentes no projeto aberto.</span><span class="sxs-lookup"><span data-stu-id="013ed-163">Pull updates to existing images to get the latest updates on project open.</span></span> <span data-ttu-id="013ed-164">Isso pode reduzir a experiência do usuário do projeto aberto.</span><span class="sxs-lookup"><span data-stu-id="013ed-164">This could slow the open project user experience.</span></span>                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="013ed-165">Remover contêineres no fechamento do projeto</span><span class="sxs-lookup"><span data-stu-id="013ed-165">Remove containers on project close</span></span>          |        <span data-ttu-id="013ed-166">Verdadeiro</span><span class="sxs-lookup"><span data-stu-id="013ed-166">True</span></span>        | <span data-ttu-id="013ed-167">Limpeza no fechamento do projeto, isso pode reduzir a experiência do usuário do projeto de fechamento, mas normalmente é rápido mesmo assim.</span><span class="sxs-lookup"><span data-stu-id="013ed-167">Clean up on project close, This could slow the close project user experience but it's usually fast anyway.</span></span>                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="013ed-168">Executar contêineres no projeto aberto</span><span class="sxs-lookup"><span data-stu-id="013ed-168">Run containers on project open</span></span>              |        <span data-ttu-id="013ed-169">Verdadeiro</span><span class="sxs-lookup"><span data-stu-id="013ed-169">True</span></span>        | <span data-ttu-id="013ed-170">Para aumentar o desempenho ao executar o projeto, o Visual Studio iniciará todos os contêineres na solução.</span><span class="sxs-lookup"><span data-stu-id="013ed-170">For increased performance when running the project, Visual Studio will start all containers in the solution.</span></span> <span data-ttu-id="013ed-171">Isso pode reduzir a experiência do usuário do projeto aberto.</span><span class="sxs-lookup"><span data-stu-id="013ed-171">This could slow the open project user experience.</span></span>                                                                                                                                                                                                                                                        |
| <span data-ttu-id="013ed-172">**Docker Compose**</span><span class="sxs-lookup"><span data-stu-id="013ed-172">**Docker Compose**</span></span>                          |                    | <span data-ttu-id="013ed-173">A página de Docker Compose contém as mesmas configurações da página do projeto único, mas elas se aplicam a soluções de vários contêineres.</span><span class="sxs-lookup"><span data-stu-id="013ed-173">The Docker Compose page contains the same settings as the Single Project page, but they apply to multi-container solutions.</span></span>                                                                                                                                                                                                                                                                                           |

> [!WARNING]
> <span data-ttu-id="013ed-174">Se o certificado SSL do localhost não for confiável e você definir a opção como **nunca**, as solicitações da Web https poderão falhar em tempo de execução em seu aplicativo ou serviço.</span><span class="sxs-lookup"><span data-stu-id="013ed-174">If the localhost SSL certificate is not trusted, and you set the option to **Never**, then HTTPS web requests might fail at runtime in your app or service.</span></span> <span data-ttu-id="013ed-175">Nesse caso, defina o valor novamente para **avisar** ou, melhor de novo, confiar nos certificados em seu computador de desenvolvimento usando o comando `dotnet dev-certs https --trust` .</span><span class="sxs-lookup"><span data-stu-id="013ed-175">In that case, set the value back again to **Prompt me** or, better again, trust the certificates in your dev machine using the command `dotnet dev-certs https --trust`.</span></span>

> [!TIP]
> <span data-ttu-id="013ed-176">Para obter mais detalhes sobre a implementação dos serviços e o uso das Ferramentas do Visual Studio para Docker, leia os seguintes artigos:</span><span class="sxs-lookup"><span data-stu-id="013ed-176">For further details on the services implementation and use of Visual Studio Tools for Docker, read the following articles:</span></span>
>
> <span data-ttu-id="013ed-177">Depurar aplicativos em um contêiner do Docker local: <https://docs.microsoft.com/visualstudio/containers/edit-and-refresh></span><span class="sxs-lookup"><span data-stu-id="013ed-177">Debug apps in a local Docker container: <https://docs.microsoft.com/visualstudio/containers/edit-and-refresh></span></span>
>
> <span data-ttu-id="013ed-178">Implantar um contêiner ASP.NET em um registro de contêiner usando o Visual Studio: <https://docs.microsoft.com/visualstudio/containers/hosting-web-apps-in-docker></span><span class="sxs-lookup"><span data-stu-id="013ed-178">Deploy an ASP.NET container to a container registry using Visual Studio: <https://docs.microsoft.com/visualstudio/containers/hosting-web-apps-in-docker></span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="013ed-179">[Anterior](docker-apps-inner-loop-workflow.md) 
>  [Avançar](set-up-windows-containers-with-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="013ed-179">[Previous](docker-apps-inner-loop-workflow.md)
[Next](set-up-windows-containers-with-powershell.md)</span></span>
