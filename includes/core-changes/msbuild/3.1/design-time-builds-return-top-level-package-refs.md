---
ms.openlocfilehash: 53840ddd59ae3463bae2930fd0151ab2cd2d65cb
ms.sourcegitcommit: e301979e3049ce412d19b094c60ed95b316a8f8c
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 12/16/2020
ms.locfileid: "97593313"
---
### <a name="design-time-builds-only-return-top-level-package-references"></a><span data-ttu-id="9dc6e-101">As compilações de tempo de design retornam apenas referências de pacote de nível superior</span><span class="sxs-lookup"><span data-stu-id="9dc6e-101">Design-time builds only return top-level package references</span></span>

<span data-ttu-id="9dc6e-102">A partir do SDK do .NET Core 3.1.400, somente referências de pacote de nível superior são retornadas pelo `RunResolvePackageDependencies` destino.</span><span class="sxs-lookup"><span data-stu-id="9dc6e-102">Starting in .NET Core SDK 3.1.400, only top-level package references are returned by the `RunResolvePackageDependencies` target.</span></span>

#### <a name="version-introduced"></a><span data-ttu-id="9dc6e-103">Versão introduzida</span><span class="sxs-lookup"><span data-stu-id="9dc6e-103">Version introduced</span></span>

<span data-ttu-id="9dc6e-104">SDK do .NET Core 3.1.400</span><span class="sxs-lookup"><span data-stu-id="9dc6e-104">.NET Core SDK 3.1.400</span></span>

#### <a name="change-description"></a><span data-ttu-id="9dc6e-105">Descrição das alterações</span><span class="sxs-lookup"><span data-stu-id="9dc6e-105">Change description</span></span>

<span data-ttu-id="9dc6e-106">Nas versões anteriores do SDK do .NET Core, o `RunResolvePackageDependencies` destino criou os seguintes itens do MSBuild que continham informações do arquivo de ativos do NuGet:</span><span class="sxs-lookup"><span data-stu-id="9dc6e-106">In previous versions of the .NET Core SDK, the `RunResolvePackageDependencies` target created the following MSBuild items that contained information from the NuGet assets file:</span></span>

- `PackageDefinitions`
- `PackageDependencies`
- `TargetDefinitions`
- `FileDefinitions`
- `FileDependencies`

<span data-ttu-id="9dc6e-107">Esses dados são usados pelo Visual Studio para preencher o nó de dependências no Gerenciador de Soluções.</span><span class="sxs-lookup"><span data-stu-id="9dc6e-107">This data is used by Visual Studio to populate the Dependencies node in Solution Explorer.</span></span> <span data-ttu-id="9dc6e-108">No entanto, ele pode ser uma grande quantidade de dados, e os dados não são necessários, a menos que o nó de dependências seja expandido.</span><span class="sxs-lookup"><span data-stu-id="9dc6e-108">However, it can be a large amount of data, and the data isn't needed unless the Dependencies node is expanded.</span></span>

<span data-ttu-id="9dc6e-109">A partir do SDK do .NET Core versão 3.1.400, a maioria desses itens não é gerada por padrão.</span><span class="sxs-lookup"><span data-stu-id="9dc6e-109">Starting in the .NET Core SDK version 3.1.400, most of these items aren't generated by default.</span></span> <span data-ttu-id="9dc6e-110">Somente os itens do tipo `Package` são retornados.</span><span class="sxs-lookup"><span data-stu-id="9dc6e-110">Only items of type `Package` are returned.</span></span> <span data-ttu-id="9dc6e-111">Se o Visual Studio precisar que os itens preencham o nó de dependências, ele lerá as informações diretamente do arquivo de ativos.</span><span class="sxs-lookup"><span data-stu-id="9dc6e-111">If Visual Studio needs the items to populate the Dependencies node, it reads the information directly from the assets file.</span></span>

#### <a name="reason-for-change"></a><span data-ttu-id="9dc6e-112">Motivo da alteração</span><span class="sxs-lookup"><span data-stu-id="9dc6e-112">Reason for change</span></span>

<span data-ttu-id="9dc6e-113">Essa mudança foi introduzida para melhorar o desempenho da carga de solução dentro do Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="9dc6e-113">This changed was introduced to improve solution-load performance inside of Visual Studio.</span></span> <span data-ttu-id="9dc6e-114">Anteriormente, todas as referências de pacote seriam carregadas, o que envolveva o carregamento de muitas referências que a maioria dos usuários nunca exibiria.</span><span class="sxs-lookup"><span data-stu-id="9dc6e-114">Previously, all package references would be loaded, which involved loading many references that most users would never view.</span></span>

#### <a name="recommended-action"></a><span data-ttu-id="9dc6e-115">Ação recomendada</span><span class="sxs-lookup"><span data-stu-id="9dc6e-115">Recommended action</span></span>

<span data-ttu-id="9dc6e-116">Se você tiver a lógica do MSBuild que depende desses itens sendo criados, defina a `EmitLegacyAssetsFileItems` propriedade como `true` em seu arquivo de projeto.</span><span class="sxs-lookup"><span data-stu-id="9dc6e-116">If you have MSBuild logic that depends on these items being created, set the `EmitLegacyAssetsFileItems` property to `true` in your project file.</span></span> <span data-ttu-id="9dc6e-117">Essa configuração habilita o comportamento anterior em que todos os itens são criados.</span><span class="sxs-lookup"><span data-stu-id="9dc6e-117">This setting enables the previous behavior where all the items are created.</span></span>

#### <a name="category"></a><span data-ttu-id="9dc6e-118">Categoria</span><span class="sxs-lookup"><span data-stu-id="9dc6e-118">Category</span></span>

<span data-ttu-id="9dc6e-119">MSBuild</span><span class="sxs-lookup"><span data-stu-id="9dc6e-119">MSBuild</span></span>

#### <a name="affected-apis"></a><span data-ttu-id="9dc6e-120">APIs afetadas</span><span class="sxs-lookup"><span data-stu-id="9dc6e-120">Affected APIs</span></span>

<span data-ttu-id="9dc6e-121">N/D</span><span class="sxs-lookup"><span data-stu-id="9dc6e-121">N/A</span></span>
